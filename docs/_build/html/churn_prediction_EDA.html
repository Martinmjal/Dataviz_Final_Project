

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Churn Prediction EDA &#8212; Proyecto_Final_DataViz</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'churn_prediction_EDA';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Models Training and Comparison" href="churn_prediction_model_training.html" />
    <link rel="prev" title="Visualización de Datos - Proyecto Final" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Visualización de Datos - Proyecto Final
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Churn Prediction EDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="churn_prediction_model_training.html">Models Training and Comparison</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fchurn_prediction_EDA.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/churn_prediction_EDA.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Churn Prediction EDA</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduccion-de-dimensionalidad">Reducción de dimensionalidad</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-categoricas">Variables Categóricas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verificando-supuestos-de-la-prueba-chi-cuadrado">Verificando supuestos de la prueba chi cuadrado</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicar-prueba-chi-cuadrado">Aplicar prueba chi cuadrado</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-numericas">Variables numéricas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-faltantes">Datos faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminar-multicolinealidad-con-variance-inflation-factor-vif">Eliminar multicolinealidad con Variance Inflation Factor (VIF)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-con-variable-objetivo">Análisis con variable objetivo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-numericas-vs-is-churned">Variables numéricas vs is_churned</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-categoricas-vs-is-churned">Variables categóricas vs is_churned</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="churn-prediction-eda">
<h1>Churn Prediction EDA<a class="headerlink" href="#churn-prediction-eda" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar las librerías necesarias</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">chi2_contingency</span>
<span class="kn">from</span> <span class="nn">statsmodels.stats.outliers_influence</span> <span class="kn">import</span> <span class="n">variance_inflation_factor</span>
</pre></div>
</div>
</div>
</div>
<p>Importar y organizar dataset</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;churn_prediction_features.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5293 entries, 0 to 5292
Columns: 112 entries, order_count_3m to customer_id
dtypes: float64(98), int64(14)
memory usage: 4.5 MB
</pre></div>
</div>
</div>
</div>
<p>Determinar cuáles columnas son numéricas o categóricas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Categóricas, teniendo en cuenta que las categóricas empiezan con &#39;sub_categoria_&#39; or &#39;warehouse_&#39;</span>
<span class="n">categorical_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;sub_categoria_&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">col</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;warehouse_&#39;</span><span class="p">)]</span>
<span class="c1"># Incluir manualmente más columnas categóricas</span>
<span class="n">categorical_cols</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;customer_id&#39;</span><span class="p">,</span> <span class="s1">&#39;has_churned_before&#39;</span><span class="p">,</span> <span class="s1">&#39;is_churned&#39;</span><span class="p">])</span>
<span class="c1"># Numéricas</span>
<span class="n">numerical_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">categorical_cols</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="reduccion-de-dimensionalidad">
<h2>Reducción de dimensionalidad<a class="headerlink" href="#reduccion-de-dimensionalidad" title="Permalink to this heading">#</a></h2>
<p>Se hará una reducción de dimensionalidad con base en la prueba chi-cuadrado. El objetivo principal es identificar y retener solo aquellas variables categóricas que son estadísticamente independientes entre sí.</p>
<p>Esto se hace utilizando una prueba chi-cuadrado, donde se considera que dos variables son independientes si el valor p de la prueba es mayor que 0.05 (umbral común para significancia estadística).</p>
<section id="variables-categoricas">
<h3>Variables Categóricas<a class="headerlink" href="#variables-categoricas" title="Permalink to this heading">#</a></h3>
<p>Verificar la dimensión del dataframe de variables categóricas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_categoricals</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">categorical_cols</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;customer_id&#39;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">df_categoricals</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5293, 83)
</pre></div>
</div>
</div>
</div>
<p>En total hay 83 columnas categóricas. Se realizarán pruebas de independecia en estas 83 columnas categóricas.</p>
</section>
<section id="verificando-supuestos-de-la-prueba-chi-cuadrado">
<h3>Verificando supuestos de la prueba chi cuadrado<a class="headerlink" href="#verificando-supuestos-de-la-prueba-chi-cuadrado" title="Permalink to this heading">#</a></h3>
<p>Uno de los supuestos indica que debe haber almenos cinco ocurrencias de cada clase para cada variable categórica.  Se verificará que cada variable categórica cumpla con este supuesto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame vacío para almacenar los conteos de valores</span>
<span class="n">value_counts_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;negative_class&#39;</span><span class="p">,</span> <span class="s1">&#39;positive_class&#39;</span><span class="p">])</span>

<span class="c1"># Iterar a través de cada columna categórica y obtener los conteos de valores</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">df_categoricals</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">value_counts</span> <span class="o">=</span> <span class="n">df_categoricals</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
    <span class="n">value_counts_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_counts</span>

<span class="c1"># Mostrar el DataFrame resultante</span>
<span class="n">value_counts_df</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>negative_class</th>
      <th>positive_class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sub_categoria_Accesorios</th>
      <td>5111</td>
      <td>180</td>
    </tr>
    <tr>
      <th>sub_categoria_Acondicionador</th>
      <td>4434</td>
      <td>857</td>
    </tr>
    <tr>
      <th>sub_categoria_Ambientadores</th>
      <td>5271</td>
      <td>20</td>
    </tr>
    <tr>
      <th>sub_categoria_Analgésicos</th>
      <td>4646</td>
      <td>645</td>
    </tr>
    <tr>
      <th>sub_categoria_Antibióticos y analgésicos</th>
      <td>5012</td>
      <td>279</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>sub_categoria_sin info</th>
      <td>3942</td>
      <td>1349</td>
    </tr>
    <tr>
      <th>warehouse_Barranquilla</th>
      <td>3543</td>
      <td>1748</td>
    </tr>
    <tr>
      <th>warehouse_Bogota</th>
      <td>3568</td>
      <td>1723</td>
    </tr>
    <tr>
      <th>has_churned_before</th>
      <td>3575</td>
      <td>1718</td>
    </tr>
    <tr>
      <th>is_churned</th>
      <td>3109</td>
      <td>2184</td>
    </tr>
  </tbody>
</table>
<p>83 rows × 2 columns</p>
</div></div></div>
</div>
<p>Determinar categorías con menos de 5 registros en la clase negativa:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">value_counts_df</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">value_counts_df</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="s1">&#39;negative_class&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>negative_class</th>
      <th>positive_class</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div></div>
</div>
<p>Determinar categorías con menos de 5 registros en la clase positiva:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">value_counts_df</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">value_counts_df</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="s1">&#39;positive_class&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>negative_class</th>
      <th>positive_class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sub_categoria_Detergentes y jabones</th>
      <td>5290</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>En la clase negativa no resultó ninguna categoría, pero en la positiva se tiene “sub_categoria_Detergentes y jabones”. Se procederá a excluir esta categoría de la prueba.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_categoricals</span> <span class="o">=</span> <span class="n">df_categoricals</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sub_categoria_Detergentes y jabones&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="aplicar-prueba-chi-cuadrado">
<h4>Aplicar prueba chi cuadrado<a class="headerlink" href="#aplicar-prueba-chi-cuadrado" title="Permalink to this heading">#</a></h4>
<p>Se procede a hacer pruebas chi cuadrado entre todas las posibles combinaciones de columnas categóricas que quedaron, y se guarda este resultado en un nuevo dataframe.</p>
<p>Esta prueba es útil para evaluar la independencia estadística entre pares de variables categóricas en un conjunto de datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame vacío para almacenar los valores p</span>
<span class="n">p_values_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_categoricals</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_categoricals</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Iterar a través de cada par de columnas categóricas para realizar la prueba chi-cuadrado</span>
<span class="k">for</span> <span class="n">col1</span> <span class="ow">in</span> <span class="n">df_categoricals</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">col2</span> <span class="ow">in</span> <span class="n">df_categoricals</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
         <span class="c1"># Crear una tabla de contingencia entre las dos columnas</span>
        <span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_categoricals</span><span class="p">[</span><span class="n">col1</span><span class="p">],</span> <span class="n">df_categoricals</span><span class="p">[</span><span class="n">col2</span><span class="p">])</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>
        <span class="n">p_values_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_value</span>

<span class="c1"># Mostrar el DataFrame resultante con los valores p</span>
<span class="n">p_values_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_categoria_Accesorios</th>
      <th>sub_categoria_Acondicionador</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Analgésicos</th>
      <th>sub_categoria_Antibióticos y analgésicos</th>
      <th>sub_categoria_Anticonceptivos</th>
      <th>sub_categoria_Antidiarreicos y sueros</th>
      <th>sub_categoria_Antimicótico - Anti hongos</th>
      <th>sub_categoria_Antimicótico íntimo</th>
      <th>sub_categoria_Antipruriginoso - Anti picazon</th>
      <th>...</th>
      <th>sub_categoria_Tos</th>
      <th>sub_categoria_Tratamiento cicatrices y heridas</th>
      <th>sub_categoria_Uñas</th>
      <th>sub_categoria_Vendas</th>
      <th>sub_categoria_Vitaminas</th>
      <th>sub_categoria_sin info</th>
      <th>warehouse_Barranquilla</th>
      <th>warehouse_Bogota</th>
      <th>has_churned_before</th>
      <th>is_churned</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sub_categoria_Accesorios</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000364</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000014</td>
      <td>0.000024</td>
      <td>0.000622</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>sub_categoria_Acondicionador</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000001</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.168168</td>
      <td>0.165402</td>
      <td>0.000207</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>sub_categoria_Ambientadores</th>
      <td>0.0</td>
      <td>0.000001</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.024807</td>
      <td>0.743419</td>
      <td>0.000111</td>
      <td>0.000042</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.101193</td>
      <td>0.017297</td>
      <td>0.0</td>
      <td>0.021555</td>
      <td>0.000016</td>
      <td>0.959184</td>
      <td>0.995062</td>
      <td>0.627648</td>
      <td>0.087468</td>
    </tr>
    <tr>
      <th>sub_categoria_Analgésicos</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000418</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>sub_categoria_Antibióticos y analgésicos</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000021</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000011</td>
      <td>0.000012</td>
      <td>0.025377</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>sub_categoria_sin info</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000016</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>warehouse_Barranquilla</th>
      <td>0.000014</td>
      <td>0.168168</td>
      <td>0.959184</td>
      <td>0.0</td>
      <td>0.000011</td>
      <td>0.078546</td>
      <td>0.003716</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000217</td>
      <td>0.0</td>
      <td>0.002479</td>
      <td>0.000024</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>warehouse_Bogota</th>
      <td>0.000024</td>
      <td>0.165402</td>
      <td>0.995062</td>
      <td>0.0</td>
      <td>0.000012</td>
      <td>0.155511</td>
      <td>0.007535</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000442</td>
      <td>0.0</td>
      <td>0.000863</td>
      <td>0.000117</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>has_churned_before</th>
      <td>0.000622</td>
      <td>0.000207</td>
      <td>0.627648</td>
      <td>0.000418</td>
      <td>0.025377</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.002244</td>
      <td>0.032738</td>
      <td>...</td>
      <td>0.000916</td>
      <td>0.000051</td>
      <td>0.0</td>
      <td>0.016002</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.001787</td>
    </tr>
    <tr>
      <th>is_churned</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.087468</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.001787</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>82 rows × 82 columns</p>
</div></div></div>
</div>
<p><strong>Proceso de descarte</strong></p>
<p>Ahora incia un proceso de selección de variables categóricas basado en la independencia estadística. Se empienzan a descartar todas las que son dependientes.</p>
<p>Se incia el proceso con todas aquellas que son dependientes a warehouse_Bogota (escogida aleatoriamente entre todas las variables)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una lista de columnas independientes basada en los valores p con respecto a &#39;warehouse_Bogota&#39;</span>
<span class="n">independent_columns</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">p_values_df</span><span class="p">[</span><span class="n">p_values_df</span><span class="p">[</span><span class="s1">&#39;warehouse_Bogota&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1"># Añadir &#39;warehouse_Bogota&#39; a la lista de columnas independientes</span>
<span class="n">independent_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;warehouse_Bogota&#39;</span><span class="p">])</span>
<span class="c1"># Crear un nuevo DataFrame que solo contenga las columnas independientes identificadas</span>
<span class="n">df_independent_variables</span> <span class="o">=</span> <span class="n">df_categoricals</span><span class="p">[</span><span class="n">independent_columns</span><span class="p">]</span>
<span class="c1"># Mostrar el DataFrame resultante con las variables independientes</span>
<span class="n">df_independent_variables</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_categoria_Acondicionador</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Anticonceptivos</th>
      <th>sub_categoria_Complementos y vitaminas</th>
      <th>sub_categoria_Cuidado corporal</th>
      <th>sub_categoria_Cuidado de los pies</th>
      <th>sub_categoria_Cuidado facial</th>
      <th>sub_categoria_Gomas</th>
      <th>sub_categoria_Naturales</th>
      <th>sub_categoria_Productos para rehabilitación</th>
      <th>sub_categoria_Proteccion e higiene íntima femenina</th>
      <th>warehouse_Bogota</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5288</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5289</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5290</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5291</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5292</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
<p>5293 rows × 12 columns</p>
</div></div></div>
</div>
<p>El resultado evidencia que 12 columnas son independientes a la columna warehouse_Bogota. Se procederá a utilizar otra columna aleatoria para verificar nuevamente independecia y descartar las dependientes.</p>
<p>Para este proceso se repite la prueba de chi-cuadrado</p>
<p><strong>Repetir prueba chi-cuadrado</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame vacío para almacenar los valores p</span>
<span class="n">p_values_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Recorrer cada par de columnas categóricas y realizar la prueba de chi-cuadrado</span>
<span class="k">for</span> <span class="n">col1</span> <span class="ow">in</span> <span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">col2</span> <span class="ow">in</span> <span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_independent_variables</span><span class="p">[</span><span class="n">col1</span><span class="p">],</span> <span class="n">df_independent_variables</span><span class="p">[</span><span class="n">col2</span><span class="p">])</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>
        <span class="n">p_values_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_value</span>

<span class="c1"># Mostrar el DataFrame resultante con los valores p</span>
<span class="n">p_values_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_categoria_Acondicionador</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Anticonceptivos</th>
      <th>sub_categoria_Complementos y vitaminas</th>
      <th>sub_categoria_Cuidado corporal</th>
      <th>sub_categoria_Cuidado de los pies</th>
      <th>sub_categoria_Cuidado facial</th>
      <th>sub_categoria_Gomas</th>
      <th>sub_categoria_Naturales</th>
      <th>sub_categoria_Productos para rehabilitación</th>
      <th>sub_categoria_Proteccion e higiene íntima femenina</th>
      <th>warehouse_Bogota</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sub_categoria_Acondicionador</th>
      <td>0.0</td>
      <td>0.000001</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.165402</td>
    </tr>
    <tr>
      <th>sub_categoria_Ambientadores</th>
      <td>0.000001</td>
      <td>0.0</td>
      <td>0.024807</td>
      <td>0.414167</td>
      <td>0.007176</td>
      <td>0.000018</td>
      <td>0.000031</td>
      <td>0.000398</td>
      <td>0.000001</td>
      <td>1.0</td>
      <td>0.000025</td>
      <td>0.995062</td>
    </tr>
    <tr>
      <th>sub_categoria_Anticonceptivos</th>
      <td>0.0</td>
      <td>0.024807</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.155511</td>
    </tr>
    <tr>
      <th>sub_categoria_Complementos y vitaminas</th>
      <td>0.0</td>
      <td>0.414167</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.115869</td>
    </tr>
    <tr>
      <th>sub_categoria_Cuidado corporal</th>
      <td>0.0</td>
      <td>0.007176</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.081005</td>
    </tr>
    <tr>
      <th>sub_categoria_Cuidado de los pies</th>
      <td>0.0</td>
      <td>0.000018</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.126449</td>
    </tr>
    <tr>
      <th>sub_categoria_Cuidado facial</th>
      <td>0.0</td>
      <td>0.000031</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.343994</td>
    </tr>
    <tr>
      <th>sub_categoria_Gomas</th>
      <td>0.0</td>
      <td>0.000398</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.720619</td>
    </tr>
    <tr>
      <th>sub_categoria_Naturales</th>
      <td>0.0</td>
      <td>0.000001</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.968453</td>
    </tr>
    <tr>
      <th>sub_categoria_Productos para rehabilitación</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.383006</td>
    </tr>
    <tr>
      <th>sub_categoria_Proteccion e higiene íntima femenina</th>
      <td>0.0</td>
      <td>0.000025</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.43073</td>
    </tr>
    <tr>
      <th>warehouse_Bogota</th>
      <td>0.165402</td>
      <td>0.995062</td>
      <td>0.155511</td>
      <td>0.115869</td>
      <td>0.081005</td>
      <td>0.126449</td>
      <td>0.343994</td>
      <td>0.720619</td>
      <td>0.968453</td>
      <td>0.383006</td>
      <td>0.43073</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Repetir proceso de descarte</strong></p>
<p>Después de repetir la prueba de chi-cuadrado se continúa nuevamente con el proceso de descarte. Se repetirá el proceso hasta que las variables sean independientes.</p>
<p>En esta ocasión se selecciona aleatoriamente la variable ‘sub_categoria_Ambientadores’. Se eliminarán las variables dependientes a esta.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una lista de columnas independientes basadas en un valor p umbral</span>
<span class="n">independent_columns</span> <span class="o">=</span>  <span class="nb">list</span><span class="p">(</span><span class="n">p_values_df</span><span class="p">[</span><span class="n">p_values_df</span><span class="p">[</span><span class="s1">&#39;sub_categoria_Ambientadores&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1"># Agregar la columna &#39;sub_categoria_Ambientadores&#39; a la lista de columnas independientes</span>
<span class="n">independent_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;sub_categoria_Ambientadores&#39;</span><span class="p">])</span>
<span class="c1"># Filtrar el DataFrame original df_independent_variables para incluir solo las columnas independientes</span>
<span class="n">df_independent_variables</span> <span class="o">=</span> <span class="n">df_independent_variables</span><span class="p">[</span><span class="n">independent_columns</span><span class="p">]</span>
<span class="c1"># Mostrar el DataFrame resultante con las variables independientes</span>
<span class="n">df_independent_variables</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_categoria_Complementos y vitaminas</th>
      <th>sub_categoria_Productos para rehabilitación</th>
      <th>warehouse_Bogota</th>
      <th>sub_categoria_Ambientadores</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5288</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5289</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5290</th>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5291</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5292</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5293 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Repetir prueba </span>
<span class="c1"># Crear un DataFrame vacío para almacenar los valores p</span>
<span class="n">p_values_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Recorrer cada par de columnas categóricas y realizar la prueba de chi-cuadrado</span>
<span class="k">for</span> <span class="n">col1</span> <span class="ow">in</span> <span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">col2</span> <span class="ow">in</span> <span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_independent_variables</span><span class="p">[</span><span class="n">col1</span><span class="p">],</span> <span class="n">df_independent_variables</span><span class="p">[</span><span class="n">col2</span><span class="p">])</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>
        <span class="n">p_values_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_value</span>

<span class="c1"># Mostrar el DataFrame resultante con los valores p</span>
<span class="n">p_values_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_categoria_Complementos y vitaminas</th>
      <th>sub_categoria_Productos para rehabilitación</th>
      <th>warehouse_Bogota</th>
      <th>sub_categoria_Ambientadores</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sub_categoria_Complementos y vitaminas</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.115869</td>
      <td>0.414167</td>
    </tr>
    <tr>
      <th>sub_categoria_Productos para rehabilitación</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.383006</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>warehouse_Bogota</th>
      <td>0.115869</td>
      <td>0.383006</td>
      <td>0.0</td>
      <td>0.995062</td>
    </tr>
    <tr>
      <th>sub_categoria_Ambientadores</th>
      <td>0.414167</td>
      <td>1.0</td>
      <td>0.995062</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Después de reptir el proceso, quedan 4 variables. Se procederá a repetir.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una lista de columnas independientes basadas en un valor p umbral</span>
<span class="n">independent_columns</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">p_values_df</span><span class="p">[</span><span class="n">p_values_df</span><span class="p">[</span><span class="s1">&#39;sub_categoria_Complementos y vitaminas&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1"># Agregar la columna &#39;sub_categoria_Complementos y vitaminas&#39; a la lista de columnas independientes</span>
<span class="n">independent_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;sub_categoria_Complementos y vitaminas&#39;</span><span class="p">])</span>
<span class="c1"># Filtrar el DataFrame original df_independent_variables para incluir solo las columnas independientes</span>
<span class="n">df_independent_variables</span> <span class="o">=</span> <span class="n">df_independent_variables</span><span class="p">[</span><span class="n">independent_columns</span><span class="p">]</span>
<span class="c1"># Mostrar el DataFrame resultante con las variables independientes</span>
<span class="n">df_independent_variables</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>warehouse_Bogota</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Complementos y vitaminas</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5288</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5289</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5290</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5291</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5292</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5293 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Repetir prueba</span>
<span class="c1"># Crear un DataFrame vacío para almacenar los valores p</span>
<span class="n">p_values_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Recorrer cada par de columnas categóricas y realizar la prueba de chi-cuadrado</span>
<span class="k">for</span> <span class="n">col1</span> <span class="ow">in</span> <span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">col2</span> <span class="ow">in</span> <span class="n">df_independent_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_independent_variables</span><span class="p">[</span><span class="n">col1</span><span class="p">],</span> <span class="n">df_independent_variables</span><span class="p">[</span><span class="n">col2</span><span class="p">])</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>
        <span class="n">p_values_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_value</span>

<span class="c1"># Mostrar el DataFrame resultante con los valores p</span>
<span class="n">p_values_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>warehouse_Bogota</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Complementos y vitaminas</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>warehouse_Bogota</th>
      <td>0.0</td>
      <td>0.995062</td>
      <td>0.115869</td>
    </tr>
    <tr>
      <th>sub_categoria_Ambientadores</th>
      <td>0.995062</td>
      <td>0.0</td>
      <td>0.414167</td>
    </tr>
    <tr>
      <th>sub_categoria_Complementos y vitaminas</th>
      <td>0.115869</td>
      <td>0.414167</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>En este ultimo caso las tres variables restantes son indpendientes. Ahora se procede a utilizar estas 3 variables para el modelo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar las 3 columnas independientes en el dataframe original.</span>
<span class="n">df_categoricals</span> <span class="o">=</span> <span class="n">df_categoricals</span><span class="p">[[</span><span class="s1">&#39;warehouse_Bogota&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_categoria_Ambientadores&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_categoria_Complementos y vitaminas&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="variables-numericas">
<h3>Variables numéricas<a class="headerlink" href="#variables-numericas" title="Permalink to this heading">#</a></h3>
<p>Para las variables numéricas se realiza una matrix de correlación</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numerical_cols</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/eba9214d599d97b68f34a381fbfc6f6e1c96eae993cb59889a5b803e7278a8b6.png" src="_images/eba9214d599d97b68f34a381fbfc6f6e1c96eae993cb59889a5b803e7278a8b6.png" />
</div>
</div>
<p>Se evidencia que existen variables con correlaciones altas. Estas se eliminarán con el Variance Inflation Factor.</p>
<p>Antes de este proceso, se deben revisar los datos faltantes.</p>
</section>
<section id="datos-faltantes">
<h3>Datos faltantes<a class="headerlink" href="#datos-faltantes" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Se filtran las columnas con las variables numericas, las variables indpendientes y la variable objetivo</span>
<span class="n">df_reduction</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numerical_cols</span> <span class="o">+</span> <span class="n">independent_columns</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_reduction</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>order_count_3m</th>
      <th>order_count_historic</th>
      <th>distinct_sku_3m</th>
      <th>distinct_sku_historic</th>
      <th>gmv_3m</th>
      <th>gmv_historic</th>
      <th>unique_vendors_last_3m</th>
      <th>unique_vendors_historic</th>
      <th>AOV_3m</th>
      <th>AOV_historic</th>
      <th>...</th>
      <th>gmv_delta_2m</th>
      <th>distinct_skus_delta_2m</th>
      <th>total_discount_delta_2m</th>
      <th>orders_count_delta_3m</th>
      <th>gmv_delta_3m</th>
      <th>distinct_skus_delta_3m</th>
      <th>total_discount_delta_3m</th>
      <th>warehouse_Bogota</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Complementos y vitaminas</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>8</td>
      <td>8</td>
      <td>1.503600e+05</td>
      <td>1.503600e+05</td>
      <td>1</td>
      <td>1</td>
      <td>1.503600e+05</td>
      <td>1.503600e+05</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>5</td>
      <td>5</td>
      <td>1.127700e+05</td>
      <td>1.127700e+05</td>
      <td>1</td>
      <td>1</td>
      <td>1.127700e+05</td>
      <td>1.127700e+05</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>4</td>
      <td>1.452720e+05</td>
      <td>1.452720e+05</td>
      <td>1</td>
      <td>1</td>
      <td>1.452720e+05</td>
      <td>1.452720e+05</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>11</td>
      <td>11</td>
      <td>2.014311e+05</td>
      <td>2.014311e+05</td>
      <td>7</td>
      <td>7</td>
      <td>2.014311e+05</td>
      <td>2.014311e+05</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>6</td>
      <td>1.612760e+05</td>
      <td>1.612760e+05</td>
      <td>6</td>
      <td>6</td>
      <td>1.612760e+05</td>
      <td>1.612760e+05</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5288</th>
      <td>97</td>
      <td>517</td>
      <td>270</td>
      <td>629</td>
      <td>1.769209e+07</td>
      <td>7.735332e+07</td>
      <td>63</td>
      <td>83</td>
      <td>1.823927e+05</td>
      <td>1.496196e+05</td>
      <td>...</td>
      <td>0.227910</td>
      <td>0.087963</td>
      <td>0.127732</td>
      <td>0.000000</td>
      <td>0.220285</td>
      <td>0.084677</td>
      <td>0.514818</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5289</th>
      <td>98</td>
      <td>170</td>
      <td>968</td>
      <td>1377</td>
      <td>8.489914e+07</td>
      <td>2.313428e+08</td>
      <td>111</td>
      <td>124</td>
      <td>8.663178e+05</td>
      <td>1.360840e+06</td>
      <td>...</td>
      <td>0.461090</td>
      <td>0.252427</td>
      <td>0.018004</td>
      <td>2.769231</td>
      <td>0.572470</td>
      <td>0.690559</td>
      <td>0.054177</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5290</th>
      <td>100</td>
      <td>292</td>
      <td>761</td>
      <td>1259</td>
      <td>1.560360e+08</td>
      <td>6.530394e+08</td>
      <td>95</td>
      <td>112</td>
      <td>1.560360e+06</td>
      <td>2.236436e+06</td>
      <td>...</td>
      <td>1.105045</td>
      <td>0.457831</td>
      <td>0.033094</td>
      <td>0.000000</td>
      <td>-0.108634</td>
      <td>0.006631</td>
      <td>0.157169</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5291</th>
      <td>124</td>
      <td>646</td>
      <td>263</td>
      <td>705</td>
      <td>9.956271e+06</td>
      <td>4.785726e+07</td>
      <td>64</td>
      <td>94</td>
      <td>8.029251e+04</td>
      <td>7.408244e+04</td>
      <td>...</td>
      <td>-0.113606</td>
      <td>-0.153527</td>
      <td>0.927276</td>
      <td>-0.192547</td>
      <td>-0.003659</td>
      <td>-0.018116</td>
      <td>0.772205</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>5292</th>
      <td>167</td>
      <td>1080</td>
      <td>7</td>
      <td>205</td>
      <td>1.680527e+07</td>
      <td>2.866494e+07</td>
      <td>4</td>
      <td>52</td>
      <td>1.006303e+05</td>
      <td>2.654161e+04</td>
      <td>...</td>
      <td>46.011540</td>
      <td>-0.400000</td>
      <td>0.000000</td>
      <td>-0.461039</td>
      <td>9.511706</td>
      <td>-0.840909</td>
      <td>-0.793596</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5293 rows × 31 columns</p>
</div></div></div>
</div>
<p>Se evidencia la presencia de valores faltantes en el dataframe. Se procederá a visualizarlos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Calcular el porcentaje de valores nulos</span>
<span class="n">null_percent</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>
<span class="c1"># Visualizar</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">null_percent</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Percentage of Null Values&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Columns&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Percentage of Null Values per Column in DataFrame&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5f4977d97a64cecba3ff2d01fe43a15fafea2dc44dfe1f6218d25ff5feed6a4d.png" src="_images/5f4977d97a64cecba3ff2d01fe43a15fafea2dc44dfe1f6218d25ff5feed6a4d.png" />
</div>
</div>
<p>Se evidencia que hay varias columnas con más del 40% de valores nulos. Se procede a eliminar estas columnas e imputar los datos faltantaes en las demás.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Se eliminan columnas con 40% o más de datos faltantes</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.6</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_reduction</span><span class="p">)</span>
<span class="n">df_reduction</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">thresh</span><span class="o">=</span><span class="n">threshold</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># imputando datos con IterativeImputer</span>
<span class="kn">from</span> <span class="nn">sklearn.experimental</span> <span class="kn">import</span> <span class="n">enable_iterative_imputer</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">IterativeImputer</span>

<span class="n">imputer</span> <span class="o">=</span> <span class="n">IterativeImputer</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">imputed_data</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_reduction</span><span class="p">)</span>

<span class="n">imputed_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">imputed_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="n">df_reduction</span> <span class="o">=</span> <span class="n">imputed_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">df_reduction</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>order_count_3m                            0
order_count_historic                      0
distinct_sku_3m                           0
distinct_sku_historic                     0
gmv_3m                                    0
gmv_historic                              0
unique_vendors_last_3m                    0
unique_vendors_historic                   0
AOV_3m                                    0
AOV_historic                              0
antiquity_days                            0
visits_count_3m                           0
canceled_orders                           0
tickets_finales                           0
mean_order_lapse                          0
new_skus_within_3m                        0
orders_count_delta_1m                     0
gmv_delta_1m                              0
distinct_skus_delta_1m                    0
orders_count_delta_2m                     0
gmv_delta_2m                              0
distinct_skus_delta_2m                    0
warehouse_Bogota                          0
sub_categoria_Ambientadores               0
sub_categoria_Complementos y vitaminas    0
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="eliminar-multicolinealidad-con-variance-inflation-factor-vif">
<h3>Eliminar multicolinealidad con Variance Inflation Factor (VIF)<a class="headerlink" href="#eliminar-multicolinealidad-con-variance-inflation-factor-vif" title="Permalink to this heading">#</a></h3>
<p>Recordemos que:</p>
<ul class="simple">
<li><p>Un VIF ≥ 5 indica alta multicolinealidad entre la correspondiente variable independiente y las demás variables.</p></li>
<li><p>Recomendación: Eliminar una columna a la vez. Aquella con el máximo VIF ≥ 5. Luego, para el nuevo dataframe, calcular nuevamente VIF e identificar nuevas columnas con VIF ≥ 5 máximo, y así sucesivamente hasta obtener solo valores de VIF &lt; 5.</p></li>
<li><p>Según corresponda, variables categóricas deben previamente codificarse usando por ejemplo OneHotEncoder().</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vif_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;Variable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">columns</span>
<span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;VIF&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">variance_inflation_factor</span><span class="p">(</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>

<span class="c1"># Mostrar los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vif_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                  Variable        VIF
0                           order_count_3m   8.689462
1                     order_count_historic   7.071149
2                          distinct_sku_3m  43.065298
3                    distinct_sku_historic  32.620615
4                                   gmv_3m   9.101740
5                             gmv_historic   7.413111
6                   unique_vendors_last_3m  40.503112
7                  unique_vendors_historic  54.064771
8                                   AOV_3m  12.851760
9                             AOV_historic  10.828574
10                          antiquity_days   8.954980
11                         visits_count_3m   3.974091
12                         canceled_orders   1.086600
13                         tickets_finales   1.116142
14                        mean_order_lapse   1.937464
15                      new_skus_within_3m  15.590733
16                   orders_count_delta_1m   1.556624
17                            gmv_delta_1m   1.004878
18                  distinct_skus_delta_1m   1.394153
19                   orders_count_delta_2m   1.797562
20                            gmv_delta_2m   1.004484
21                  distinct_skus_delta_2m   1.574238
22                        warehouse_Bogota   2.457776
23             sub_categoria_Ambientadores   1.036683
24  sub_categoria_Complementos y vitaminas   1.211284
</pre></div>
</div>
</div>
</div>
<p>En este caso se eliminan las columnas con un VIF mayor que 5, eliminando la de mayor VIF en cada iteración.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># Calcular el Factor de Inflación de la Varianza (VIF) para cada variable</span>
    <span class="n">vif_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;Variable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;VIF&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">variance_inflation_factor</span><span class="p">(</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>

    <span class="c1"># Comprobar si el VIF máximo está por encima del umbral (5)</span>
    <span class="n">max_vif</span> <span class="o">=</span> <span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;VIF&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">max_vif</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">break</span>

    <span class="c1"># Identificar la variable/columna con el VIF más alto</span>
    <span class="n">max_vif_variable</span> <span class="o">=</span> <span class="n">vif_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;VIF&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">variable_name</span> <span class="o">=</span> <span class="n">max_vif_variable</span><span class="p">[</span><span class="s2">&quot;Variable&quot;</span><span class="p">]</span>

    <span class="c1"># Imprimir la variable que se va a eliminar y su VIF</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Eliminando &#39;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">&#39; con VIF: </span><span class="si">{</span><span class="n">max_vif</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Eliminar la variable/columna del DataFrame</span>
    <span class="n">df_reduction</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">variable_name</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Eliminando &#39;unique_vendors_historic&#39; con VIF: 54.064770957302436
Eliminando &#39;distinct_sku_3m&#39; con VIF: 28.301055802923763
Eliminando &#39;unique_vendors_last_3m&#39; con VIF: 19.750538287298127
Eliminando &#39;AOV_3m&#39; con VIF: 11.58528785671016
Eliminando &#39;order_count_3m&#39; con VIF: 7.454986523068702
Eliminando &#39;gmv_3m&#39; con VIF: 6.999537999734301
Eliminando &#39;distinct_sku_historic&#39; con VIF: 6.1489608804132185
</pre></div>
</div>
</div>
</div>
<p>Se procede a verificar los resultados después de eliminar las variables alta multicolinealidad</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame vacío para almacenar los resultados del VIF</span>
<span class="n">vif_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="c1"># Agregar la columna &#39;Variable&#39; al DataFrame vif_data y asignarle los nombres de las columnas de df_reduction</span>
<span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;Variable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">columns</span>
<span class="c1"># Calcular el VIF para cada variable y almacenar los resultados en la columna &#39;VIF&#39;</span>
<span class="n">vif_data</span><span class="p">[</span><span class="s2">&quot;VIF&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">variance_inflation_factor</span><span class="p">(</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_reduction</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>

<span class="c1"># Mostrar el resultado que contiene las variables y sus respectivos VIF</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vif_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                  Variable       VIF
0                     order_count_historic  2.549589
1                             gmv_historic  2.290194
2                             AOV_historic  2.226552
3                           antiquity_days  4.017303
4                          visits_count_3m  3.508315
5                          canceled_orders  1.084789
6                          tickets_finales  1.103717
7                         mean_order_lapse  1.736261
8                       new_skus_within_3m  2.135510
9                    orders_count_delta_1m  1.410192
10                            gmv_delta_1m  1.002258
11                  distinct_skus_delta_1m  1.319025
12                   orders_count_delta_2m  1.570232
13                            gmv_delta_2m  1.003790
14                  distinct_skus_delta_2m  1.456130
15                        warehouse_Bogota  2.025948
16             sub_categoria_Ambientadores  1.012302
17  sub_categoria_Complementos y vitaminas  1.136589
</pre></div>
</div>
</div>
</div>
<p>Se evidencia que quedan 17 variables y todas tienen VIF menor a 5.
Este dataframe, agregando la columna de la variable de interés, será utilizado para entregar el modelo de clasificación.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Agregar columna &#39;is_churned&#39; del dataframe original</span>
<span class="n">df_reduction</span><span class="p">[</span><span class="s1">&#39;is_churned&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_churned&#39;</span><span class="p">]</span>
<span class="n">df_reduction</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>order_count_historic</th>
      <th>gmv_historic</th>
      <th>AOV_historic</th>
      <th>antiquity_days</th>
      <th>visits_count_3m</th>
      <th>canceled_orders</th>
      <th>tickets_finales</th>
      <th>mean_order_lapse</th>
      <th>new_skus_within_3m</th>
      <th>orders_count_delta_1m</th>
      <th>gmv_delta_1m</th>
      <th>distinct_skus_delta_1m</th>
      <th>orders_count_delta_2m</th>
      <th>gmv_delta_2m</th>
      <th>distinct_skus_delta_2m</th>
      <th>warehouse_Bogota</th>
      <th>sub_categoria_Ambientadores</th>
      <th>sub_categoria_Complementos y vitaminas</th>
      <th>is_churned</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>150360.000000</td>
      <td>150360.000000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>17.095455</td>
      <td>8</td>
      <td>0.0</td>
      <td>0.223456</td>
      <td>0.181818</td>
      <td>0.058824</td>
      <td>0.211494</td>
      <td>0.198953</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>112770.000000</td>
      <td>112770.000000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>17.095455</td>
      <td>5</td>
      <td>0.0</td>
      <td>0.223456</td>
      <td>0.181818</td>
      <td>0.058824</td>
      <td>0.211494</td>
      <td>0.198953</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>145272.000000</td>
      <td>145272.000000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>17.095455</td>
      <td>4</td>
      <td>0.0</td>
      <td>0.223456</td>
      <td>0.181818</td>
      <td>0.058824</td>
      <td>0.211494</td>
      <td>0.198953</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>201431.050293</td>
      <td>201431.050293</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>17.095455</td>
      <td>11</td>
      <td>0.0</td>
      <td>0.223456</td>
      <td>0.181818</td>
      <td>0.058824</td>
      <td>0.211494</td>
      <td>0.198953</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>161276.000000</td>
      <td>161276.000000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>17.095455</td>
      <td>6</td>
      <td>0.0</td>
      <td>0.223456</td>
      <td>0.181818</td>
      <td>0.058824</td>
      <td>0.211494</td>
      <td>0.198953</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ahora que se tiene el Dataframe completo se realiza una breve descripción de cada una de las variables para comprender los psoteriores análisis exlporatorios</p>
</section>
</section>
<section id="analisis-con-variable-objetivo">
<h2>Análisis con variable objetivo<a class="headerlink" href="#analisis-con-variable-objetivo" title="Permalink to this heading">#</a></h2>
<p>Ahora que el dataframe y las variables están definidas y explicadas, se procede a realizar un análisis de las disrtibuciones de las variables teniendo en cuenta la variable objetivo o de interés.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un gráfico de barras que cuenta los valores de &#39;is_churned&#39; y reemplaza los valores 0 y 1 con etiquetas</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_reduction</span><span class="p">[</span><span class="s1">&#39;is_churned&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Not churned&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Churned&#39;</span><span class="p">}))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Count of churned and non churned customers&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5a352eed86219c16af0a9f501c2fa2da0c5c0b15e2803ee2528b1903eea97fa1.png" src="_images/5a352eed86219c16af0a9f501c2fa2da0c5c0b15e2803ee2528b1903eea97fa1.png" />
</div>
</div>
<p>Se evidencia que hay un desbalance notable en las clases de la variable objetivo</p>
<section id="variables-numericas-vs-is-churned">
<h3>Variables numéricas vs is_churned<a class="headerlink" href="#variables-numericas-vs-is-churned" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extraer columnas numéricas</span>
<span class="n">numerical_cols</span> <span class="o">=</span> <span class="n">df_reduction</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;warehouse_Bogota&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_categoria_Ambientadores&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_categoria_Complementos y vitaminas&#39;</span><span class="p">,</span> <span class="s1">&#39;is_churned&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Crear un boxplot para cada columna numérica en función de &#39;is_churned&#39;</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">numerical_cols</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;is_churned&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">yticklabels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Not churned&#39;</span><span class="p">,</span> <span class="s1">&#39;Churned&#39;</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Boxplot of </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> by is_churned&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/989f9e8313d2a4afc67842ae1b9dedb4aa2072deea8ac1bbf5e8d46df7961cf0.png" src="_images/989f9e8313d2a4afc67842ae1b9dedb4aa2072deea8ac1bbf5e8d46df7961cf0.png" />
<img alt="_images/12b8062049928348fd506734091e8a946f0267741420eb5a53d3083bb38fa8af.png" src="_images/12b8062049928348fd506734091e8a946f0267741420eb5a53d3083bb38fa8af.png" />
<img alt="_images/f323fb850355bccd018b4d02e837adf8cd95085e860a33fc17715c91a940de38.png" src="_images/f323fb850355bccd018b4d02e837adf8cd95085e860a33fc17715c91a940de38.png" />
<img alt="_images/0945e5b36ecaaedf0c7c3f60791b1ae91093daac2dc0a70c457a2b3650aa3718.png" src="_images/0945e5b36ecaaedf0c7c3f60791b1ae91093daac2dc0a70c457a2b3650aa3718.png" />
<img alt="_images/57204c9e66c0af088b634590dc01b18cbf6f4433690015b7fcb42c4e3ab5fec7.png" src="_images/57204c9e66c0af088b634590dc01b18cbf6f4433690015b7fcb42c4e3ab5fec7.png" />
<img alt="_images/5cf90c5a6c2ae74f55e1d45d601f566014d834f70c509ca77466df4a8b112bdc.png" src="_images/5cf90c5a6c2ae74f55e1d45d601f566014d834f70c509ca77466df4a8b112bdc.png" />
<img alt="_images/09a98a3d536195777c31097141117dd32baa32ce44590b409f0124d3234d175a.png" src="_images/09a98a3d536195777c31097141117dd32baa32ce44590b409f0124d3234d175a.png" />
<img alt="_images/499413df2ad6fd7ea726adaffdd5cf455b85e3fabc7f5f79232bb8018f83551f.png" src="_images/499413df2ad6fd7ea726adaffdd5cf455b85e3fabc7f5f79232bb8018f83551f.png" />
<img alt="_images/5a8565cbccf961ab2d3e1400255325b0981b0bc8a19f8450877a7842ab693ede.png" src="_images/5a8565cbccf961ab2d3e1400255325b0981b0bc8a19f8450877a7842ab693ede.png" />
<img alt="_images/fb380c4b767e7f6fc93156dd64c09be7ed84e1950f7286e2995638e2e70f445a.png" src="_images/fb380c4b767e7f6fc93156dd64c09be7ed84e1950f7286e2995638e2e70f445a.png" />
<img alt="_images/ae600f94ef6d0892e82682c7b7afa25ea64b01db9fc60760fe218d4bfa39ab95.png" src="_images/ae600f94ef6d0892e82682c7b7afa25ea64b01db9fc60760fe218d4bfa39ab95.png" />
<img alt="_images/38a846bac24c009001f43b4781153589bcaff7120481f8cf25bea81f108a0ecb.png" src="_images/38a846bac24c009001f43b4781153589bcaff7120481f8cf25bea81f108a0ecb.png" />
<img alt="_images/29ef3bb60f23d4af66cb995a0c842be1b510e2eeafa5ef2da336b2e4fcd4df84.png" src="_images/29ef3bb60f23d4af66cb995a0c842be1b510e2eeafa5ef2da336b2e4fcd4df84.png" />
<img alt="_images/977eedf7ac2671dbb68e1ab9ae321499b2d2b134ee55d6ab440d6eae20a5031b.png" src="_images/977eedf7ac2671dbb68e1ab9ae321499b2d2b134ee55d6ab440d6eae20a5031b.png" />
<img alt="_images/d346508f979156868c9001b65ebff5cf01fb890fd32c71750ac7c999d44c1c8c.png" src="_images/d346508f979156868c9001b65ebff5cf01fb890fd32c71750ac7c999d44c1c8c.png" />
</div>
</div>
<p>Interpretaciones:</p>
<ul class="simple">
<li><p>Se evidencia que hay variables cuya dispersión es significativamente distinta en cada clase de la variable ‘is_churned’, como es el caso de ‘new_skus_within_3m’, ‘mean_order_lapse’ y ‘visit_count_3m’.</p></li>
<li><p>Hay variables cuyos valores son cero en su gran mayoría, y los valores distintos a cero, son considerados atípicos (los datos atípicos están omitidos en estos boxplot, por eso no se ve nada distinto a cero) . Este es el caso de ‘tickets_finales’ y ‘canceled_orders’, lo cuál quiere decir que la gran mayoría de clientes nunca ha contactado a servicio al cliente, ni ha cancelado una órden. Pero las pocas veces que esto se da, puede ser un claro indicio que el cliente está en riesgo de abandonar la compañía</p></li>
<li><p>Hay otras variables cuya dispersión en ambas clases de la variable objetivo parece ser bastante parecida, tales como lo son ‘AOV’ y casi todas las variables que calculan un ‘Delta’</p></li>
<li><p>Se puede ver también que en general, los clientes no churn tienden a tener mayor antiguedad que aquellos que sí son churn, lo cuál podría sonar intuitivo pero que al final es contrastado con la información.</p></li>
</ul>
</section>
<section id="variables-categoricas-vs-is-churned">
<h3>Variables categóricas vs is_churned<a class="headerlink" href="#variables-categoricas-vs-is-churned" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compare_with_is_churned</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">variable</span><span class="p">):</span>
    <span class="c1"># Crear una tabla pivote para obtener los conteos</span>
    <span class="n">pivot_table</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;is_churned&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Calcular los porcentajes</span>
    <span class="n">pivot_table_percentage</span> <span class="o">=</span> <span class="n">pivot_table</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">pivot_table</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="c1"># Crear el gráfico</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">pivot_table_percentage</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">([</span><span class="s1">&#39;Not churned&#39;</span><span class="p">,</span> <span class="s1">&#39;Churned&#39;</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Percentage of &quot;</span><span class="si">{</span><span class="n">variable</span><span class="si">}</span><span class="s1">&quot; within each &quot;is_churned&quot; class&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Percentage&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">variable</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

    <span class="c1"># Anotar los porcentajes en las barras</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span> <span class="c1"># Assuming &#39;is_churned&#39; has two classes, 0 and 1</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">percentage</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pivot_table_percentage</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">pivot_table_percentage</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()):</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="p">(</span><span class="n">percentage</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">percentage</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Iterar sobre todas las columnas excepto &#39;is_churned&#39;</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;warehouse_Bogota&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_categoria_Ambientadores&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_categoria_Complementos y vitaminas&#39;</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">column</span> <span class="o">!=</span> <span class="s1">&#39;is_churned&#39;</span><span class="p">:</span>
        <span class="n">compare_with_is_churned</span><span class="p">(</span><span class="n">df_reduction</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/35565f4af2ad95a0b194b52b8d29bae3ba1100692e10f82989032c9f4e4a3c79.png" src="_images/35565f4af2ad95a0b194b52b8d29bae3ba1100692e10f82989032c9f4e4a3c79.png" />
<img alt="_images/a29ecb7fd40066681916c2e816b1b864a516c38160969ae1c06b0f8d6ce54fb2.png" src="_images/a29ecb7fd40066681916c2e816b1b864a516c38160969ae1c06b0f8d6ce54fb2.png" />
<img alt="_images/e9829bb6a2f0d002be7ba929b1f1af9cb14afe73e3e53b088257191dc14de823.png" src="_images/e9829bb6a2f0d002be7ba929b1f1af9cb14afe73e3e53b088257191dc14de823.png" />
</div>
</div>
<p>Interpretaciones:</p>
<ul class="simple">
<li><p>Se puede observar entonces una diferencia significativa en la proporción de la variable warehouse_bogota entre las clases de la variable objetivo ‘is_churned’</p></li>
<li><p>No siendo así con la variable sub_categoria_ambientadores, cuya proporción varía mucho entre cada clase de la variable objetivo</p></li>
<li><p>Para la última variable categórica ‘Sub_categoria_complementos_y_vitaminas’, la diferencia de proporciones en cada clase de la variable objetivo fluctúa ligeramente</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Visualización de Datos - Proyecto Final</p>
      </div>
    </a>
    <a class="right-next"
       href="churn_prediction_model_training.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Models Training and Comparison</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduccion-de-dimensionalidad">Reducción de dimensionalidad</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-categoricas">Variables Categóricas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verificando-supuestos-de-la-prueba-chi-cuadrado">Verificando supuestos de la prueba chi cuadrado</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicar-prueba-chi-cuadrado">Aplicar prueba chi cuadrado</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-numericas">Variables numéricas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-faltantes">Datos faltantes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminar-multicolinealidad-con-variance-inflation-factor-vif">Eliminar multicolinealidad con Variance Inflation Factor (VIF)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-con-variable-objetivo">Análisis con variable objetivo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-numericas-vs-is-churned">Variables numéricas vs is_churned</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-categoricas-vs-is-churned">Variables categóricas vs is_churned</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Estefany Villanueva, Martín Álvarez
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>